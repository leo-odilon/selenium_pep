name: Main Workflow

on:
  push:
    branches:
      - master
  # schedule:
  #   - cron: '0 0 * * *'  # Executa todos os dias Ã  meia-noite

jobs:
  download-pep:
    uses: ./.github/workflows/pep_file.yml

  open-pep:
    needs: download-pep
    uses: ./.github/workflows/open_pep.yml

  download-csnu:
    uses: ./.github/workflows/csnu_file.yml

  open-csnu:
    needs: download-csnu
    uses: ./.github/workflows/open_csnu.yml

  prepare_data:
    needs: [open-pep, open-csnu]
    uses: ./.github/workflows/prepare_data.yml

  insert_data:
    needs: [prepare_data]
    uses: ./.github/workflows/insert_data.yml
